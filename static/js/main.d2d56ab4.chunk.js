(this["webpackJsonpmodel-splitter"]=this["webpackJsonpmodel-splitter"]||[]).push([[0],{223:function(e){e.exports=JSON.parse('{"a":"0.5.0"}')},242:function(e,t,n){"use strict";n.r(t);var i,r=n(27),a=n.n(r),s=n(218),o=n.n(s),c=n(144),u=n(225),l=n(41),h=n(145),d=n(63);function f(){return Object(d.jsx)(p,{children:Object(d.jsx)("h1",{children:"About"})})}var p=h.a.div(i||(i=Object(c.a)([""]))),m=n(89),b=n.n(m),v=n(224),g=n(121),w=n(133),x=n(40),j=n(159),O=n(226),C=["antialias","engineOptions","adaptToDeviceRatio","sceneOptions","onRender","onSceneReady"];function P(e){var t=Object(r.useRef)(null),n=e.antialias,i=e.engineOptions,a=e.adaptToDeviceRatio,s=e.sceneOptions,o=e.onRender,c=e.onSceneReady,u=Object(O.a)(e,C);return Object(r.useEffect)((function(){if(t.current){var e=new x.e(t.current,n,i,a),r=new x.i(e,s);r.isReady()?c&&c(r):r.onReadyObservable.addOnce((function(){c&&c(r)})),e.runRenderLoop((function(){"function"===typeof o&&o(r),r.render()}));var u=function(){r.getEngine().resize()};return window&&window.addEventListener("resize",u),function(){r.getEngine().dispose(),window&&window.removeEventListener("resize",u)}}}),[t,a,n,i,o,c,s]),Object(d.jsx)("canvas",Object(j.a)({ref:t},u))}var y=n(194),M=n(195),S=0,D=function(){function e(t,n){Object(y.a)(this,e),this.scene=t,this.material=n,this.mesh=void 0,this.nextFreehand=null,this.tubeDrawOptions=void 0,this.tubeDrawCurrentSegment=0,this.tubeRadiuses=[],this.tubeDrawOptions={tessellation:9,updatable:!0,cap:x.g.CAP_ALL,path:Array(50).fill(new x.l(0,0,0))},this.mesh=x.h.CreateTube("Freehand".concat(S++),Object(j.a)({radius:0},this.tubeDrawOptions),t),this.mesh.material=n}return Object(M.a)(e,[{key:"meshes",get:function(){var e=[this.mesh];return this.nextFreehand&&e.push(this.nextFreehand.mesh),e}},{key:"addFrame",value:function(t,n){var i=this;if(!(this.tubeDrawCurrentSegment>=49&&(this.nextFreehand||(this.nextFreehand=new e(this.scene,this.material)),this.nextFreehand.addFrame(t,n),this.tubeDrawCurrentSegment>=50)))if(this.tubeRadiuses[this.tubeDrawCurrentSegment]=Math.max(n,this.tubeRadiuses[this.tubeDrawCurrentSegment]||0),x.l.Distance(t,this.tubeDrawOptions.path[this.tubeDrawCurrentSegment])<.01)console.warn("Freehand: Point is too close to previous point, ignoring");else{for(var r=this.tubeDrawCurrentSegment++;r<50;r++)this.tubeDrawOptions.path[r]=t;this.mesh=x.h.CreateTube(this.mesh.name,Object(j.a)({radiusFunction:function(e){return.25*(i.tubeRadiuses[e]||0)},instance:this.mesh},this.tubeDrawOptions))}}}]),e}();function R(){return F.apply(this,arguments)}function F(){return(F=Object(w.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){try{if(navigator.xr)return e();if(window.WebXRPolyfill)return new window.WebXRPolyfill,e();var n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/webxr-polyfill@latest/build/webxr-polyfill.js",document.head.appendChild(n),n.onload=function(){new window.WebXRPolyfill,e()}}catch(i){t(i)}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(241),n(243);var A=.003;function E(e,t){return new Promise((function(n,i){x.j.ImportMesh("","models/",e,t,function(){var e=Object(w.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===t.length?i(new Error("No meshes found")):(t.length>1&&console.warn("Found ".concat(t.length," meshes, using the first one")),(r=t[0]).scaling.x=A,r.scaling.y=A,r.scaling.z=A,r.position.x=0,r.position.y=1.2,r.position.z=-10,r.rotation.y=Math.PI,r.isPickable=!1,r.doNotSyncBoundingInfo=!0,n(r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}var _,T=function(){function e(t,n,i){Object(y.a)(this,e),this.scene=i,this.originalCsg=void 0,this.originalPosition=void 0,this.currentPositiveMesh=void 0,this.currentNegativeMesh=null,this.positiveCsg=void 0,this.negativeCsg=null,this.materialA=void 0,this.wireframeMaterial=void 0,this.materialA=new x.k("material",i),this.materialA.diffuseColor=x.b.FromHexString("#ffffff"),this.wireframeMaterial=new x.k("material",i),this.wireframeMaterial.diffuseColor=x.b.FromHexString("#000000"),this.wireframeMaterial.specularColor=x.b.FromHexString("#000000"),this.wireframeMaterial.alpha=.3,this.wireframeMaterial.wireframe=!0,this.currentPositiveMesh=t,this.originalPosition=t.position.clone(),this.currentPositiveMesh.material=this.materialA;var r=t.clone("instance");r.material=this.wireframeMaterial,n.material=this.wireframeMaterial,n.isVisible=!1;var a=n.createInstance("instance");t.material=this.materialA,t.position.x-=.55,r.position.x-=.55,n.position.x-=.55,a.position.x+=.55,this.originalCsg=x.a.FromMesh(t),this.positiveCsg=x.a.FromMesh(t)}return Object(M.a)(e,[{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];try{for(var i,r=null,a=0,s=t;a<s.length;a++){var o=s[a];null===r?r=x.a.FromMesh(o):r.unionInPlace(x.a.FromMesh(o))}if(null===r)throw new Error("No meshes to substract");this.positiveCsg.subtractInPlace(r),this.negativeCsg=this.originalCsg.subtract(this.positiveCsg),this.currentPositiveMesh.dispose(),null===(i=this.currentNegativeMesh)||void 0===i||i.dispose(),this.currentPositiveMesh=this.positiveCsg.toMesh("positive",this.materialA,this.scene),this.currentNegativeMesh=this.negativeCsg.toMesh("negative",this.materialA,this.scene),this.currentNegativeMesh.position=this.originalPosition.clone(),this.currentNegativeMesh.position.x+=.55}catch(h){console.error(h)}finally{for(var c=0,u=t;c<u.length;c++){var l=u[c];l.dispose()}}}}]),e}();function L(){return Object(d.jsxs)(I,{children:[Object(d.jsx)("h1",{children:"\u2702\ufe0f Model splitter"}),Object(d.jsx)(P,{onSceneReady:function(){var e=Object(w.a)(b.a.mark((function e(t){var n,i,r,a,s,o,c,u,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return t.pointerMovePredicate=function(){return!1},t.pointerDownPredicate=function(){return!1},t.pointerUpPredicate=function(){return!1},t.clearColor=x.c.FromHexString("#1d1c21"),(n=new x.k("material",t)).specularColor=x.b.FromHexString("#000000"),n.diffuseColor=x.b.FromHexString("#000000"),n.emissiveColor=x.b.FromHexString("#e41e26"),n.alpha=.9,(i=new x.k("material",t)).diffuseColor=x.b.FromHexString("#353535"),i.alpha=1,(r=new x.f("camera1",new x.l(0,5,-10),t)).setTarget(x.l.Zero()),a=t.getEngine().getRenderingCanvas(),r.attachControl(a,!0),(s="4c1e4f-b5a886-fee1c7-fa7e61-f44174".split("-").map((function(e){return"#".concat(e)}))).forEach((function(e,n){var i=new x.d("light1",new x.l(10*Math.cos(2*Math.PI*(n/s.length)),-10,10*Math.sin(2*Math.PI*(n/s.length))),t);i.intensity=.8,i.diffuse=x.b.FromHexString(e),i.specular=x.b.FromHexString(e)})),(c=x.h.CreateGround("ground",{width:1e3,height:1e3},t)).material=i,e.next=24,t.createDefaultXRExperienceAsync({floorMeshes:[c]});case 24:return(u=e.sent).pointerSelection.laserPointerDefaultColor=x.b.FromHexString("#ff0000"),l=null,u.input.onControllerAddedObservable.add(function(){var e=Object(w.a)(b.a.mark((function e(i){var r,a,s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([new Promise((function(e){return i.onMeshLoadedObservable.add((function(t){return e(t)}))})),new Promise((function(e){return i.onMotionControllerInitObservable.add((function(t){return e(t)}))}))]);case 2:r=e.sent,a=Object(g.a)(r,2),s=a[0],c=a[1],console.info("\ud83d\udd79\ufe0f ".concat(i.uniqueId," connected (with ").concat(Object.keys(c.components).join(", "),")"),c),c.components["xr-standard-trigger"].onButtonStateChangedObservable.add((function(e){if(0!==e.value)null===l&&(l=new D(t,n)),l.addFrame(s.absolutePosition.clone(),e.value);else if(0===e.value&&null!==l){var i;(i=o).subtract.apply(i,Object(v.a)(l.meshes)),l=null}}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.t0=T,e.next=31,E("Liver_WithTumor.lowpoly.obj",t);case 31:return e.t1=e.sent,e.next=34,E("Liver_WithTumor.obj",t);case 34:e.t2=e.sent,e.t3=t,o=new e.t0(e.t1,e.t2,e.t3);case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})}var k,I=h.a.div(_||(_=Object(c.a)(["\n    h1 {\n        /*font-family: 'Times New Roman', Times, serif;\n        text-transform: uppercase;*/\n\n        color: #e41e26;\n        background-color: #fdf2f2;\n        padding: 1em;\n    }\n\n    canvas {\n        z-index: 1;\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100vw;\n        height: 100vh;\n    }\n\n    /*.controlls{\n        z-index: 1;\n        position: fixed;\n        right: 0;\n        bottom: 0;\n        width: 100vw;\n        height: 100vh;\n    }*/\n"])));function H(){return Object(d.jsx)(N,{children:Object(d.jsx)(u.a,{children:Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/",element:Object(d.jsx)(L,{})}),Object(d.jsx)(l.a,{path:"/about",element:Object(d.jsx)(f,{})})]})})})}var N=h.a.div(k||(k=Object(c.a)(["\n    /*border: 1px dashed red;*/\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]))),B=n(222),U=n(223).a,z=B.ConfigChecker.from(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_DATE:"2021-11-21T03:18:40+00:00",REACT_APP_BUILD_DETAILS_URL:"https://github.com/hejny/model-splitter/actions/runs/1485964279"})),W=z.get("REACT_APP_BUILD_DETAILS_URL").url().value,X=z.get("REACT_APP_BUILD_DATE").date().value;console.info("%c\u2702\ufe0f Model splitter version ".concat(U)+(X?"\nBuild at ".concat(X.toLocaleString()):"")+(W?"\nView build details ".concat(W.href):""),"background: #009EDD; color: white; font-size: 1.1em; font-weight: bold; padding: 5px; border-radius: 3px;"),o.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(H,{})}),document.getElementById("root"))}},[[242,1,2]]]);
//# sourceMappingURL=main.d2d56ab4.chunk.js.map